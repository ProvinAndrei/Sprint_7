# Sprint 7 - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –Ø–Ω–¥–µ–∫—Å –°–∞–º–æ–∫–∞—Ç

–ü—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ –¥–ª—è API —Å–µ—Ä–≤–∏—Å–∞ –Ø–Ω–¥–µ–∫—Å –°–∞–º–æ–∫–∞—Ç.
## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

- ‚úÖ **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** - –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞** - —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∫—É—Ä—å–µ—Ä—ã —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ **Allure –æ—Ç—á–µ—Ç—ã** - –æ—Ç—á–µ—Ç—ã –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- ‚úÖ **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- ‚úÖ **–í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### api/ - –ö–ª–∏–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
- `base_api.py` - –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- `courier_api.py` - –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫—É—Ä—å–µ—Ä–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, –ª–æ–≥–∏–Ω, —É–¥–∞–ª–µ–Ω–∏–µ)
- `order_api.py` - –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–∞–∑–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞)

### data/ - –î–∞–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `endpoints.py` - –í—Å–µ URL —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã API
- `test_data.py` - –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### utils/ - –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
- `generators.py` - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### tests/ - –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã
#### courier/ - –¢–µ—Å—Ç—ã –∫—É—Ä—å–µ—Ä–æ–≤ (11 —Ç–µ—Å—Ç–æ–≤)
- `test_courier_creation.py` - –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∫—É—Ä—å–µ—Ä–∞
  - –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ª–æ–≥–∏–Ω–æ–≤
- `test_courier_login.py` - –¢–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∫—É—Ä—å–µ—Ä–∞
  - –£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
  - –ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

#### order/ - –¢–µ—Å—Ç—ã –∑–∞–∫–∞–∑–æ–≤ (10 —Ç–µ—Å—Ç–æ–≤)
- `test_order_creation.py` - –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
  - –°–æ–∑–¥–∞–Ω–∏–µ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏ —Å–∞–º–æ–∫–∞—Ç–æ–≤
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- `test_order_list.py` - –¢–µ—Å—Ç—ã —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
  - –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (limit, page)

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `conftest.py` - –§–∏–∫—Å—Ç—É—Ä—ã pytest (API –∫–ª–∏–µ–Ω—Ç—ã, –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö)
- `pytest.ini` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ pytest –∏ Allure
- `requirements.txt` - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
- `.gitignore` - –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone <repository-url>
cd Sprint_7
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
python3 -m venv venv
source venv/bin/activate  # –ù–∞ Windows: venv\Scripts\activate
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 4. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
pytest

# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã –∫—É—Ä—å–µ—Ä–æ–≤
pytest tests/courier/

# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã –∑–∞–∫–∞–∑–æ–≤
pytest tests/order/

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/courier/test_courier_creation.py::TestCourierCreation::test_create_courier_success
```

### 5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Allure –æ—Ç—á–µ—Ç–∞
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
allure generate allure-results --clean -o allure-report

# –û—Ç–∫—Ä—ã—Ç–∏–µ –æ—Ç—á–µ—Ç–∞
allure open allure-report
```

## üìä –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

**–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: 21**

### API –ö—É—Ä—å–µ—Ä–æ–≤:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—å–µ—Ä–∞ (5 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∫—É—Ä—å–µ—Ä–∞ (6 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### API –ó–∞–∫–∞–∑–æ–≤:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ (7 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ (3 —Ç–µ—Å—Ç–∞)
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ —Å–∞–º–æ–∫–∞—Ç–æ–≤

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏–Ω—ã** —Å timestamp
- **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∏–º–µ–Ω–∞**
- **–í–∞–ª–∏–¥–Ω—ã–µ —Ç–µ–ª–µ—Ñ–æ–Ω—ã** –≤ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- **–°–ª—É—á–∞–π–Ω—ã–µ –∞–¥—Ä–µ—Å–∞**

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞
- –§–∏–∫—Å—Ç—É—Ä–∞ `cleanup_courier` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∫—É—Ä—å–µ—Ä–æ–≤

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Allure –æ—Ç—á–µ—Ç–æ–≤
- –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ú–∞—Ä–∫–µ—Ä—ã –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Ç–µ—Å—Ç–æ–≤

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—å–µ—Ä–∞ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```python
login = generate_unique_login()        # courier_abc123_456789
password = generate_unique_password()  # randompass10
first_name = generate_unique_first_name()  # –ê–ª–µ–∫—Å–µ–π_xyz1
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
```python
order_data = TestData.get_order_data(
    first_name=generate_unique_first_name(),
    phone=generate_phone_number(),      # +7 905 123 45 67
    address=generate_address()          # —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 15, –∫–≤. 42
)
```

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫: **21 passed**
- ‚úÖ 100% —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

## ü§ù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤
1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–∞–ø–∫–µ (`tests/courier/` –∏–ª–∏ `tests/order/`)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏–∑ `utils.generators` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
3. –î–æ–±–∞–≤—å—Ç–µ Allure –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –∏–∑ `conftest.py`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∞
```python
@allure.feature("–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏")
class TestExample:
    @allure.title("–û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞")
    def test_example(self, api_fixture):
        with allure.step("–®–∞–≥ 1"):
            # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
            pass
        with allure.step("–®–∞–≥ 2"):
            # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
            pass
        with allure.step("–®–∞–≥ 3"):
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            assert response.status_code == 200
```
